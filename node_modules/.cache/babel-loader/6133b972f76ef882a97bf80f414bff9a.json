{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Win10\\\\Documents\\\\udemi-react\\\\14-react-portfolio-api\\\\src\\\\components\\\\Database\\\\CarItem.js\";\nimport React, { useState } from \"react\";\nimport styles from \"./CarItem.module.css\";\nimport useHttp from \"./../../hooks/use-http\";\nimport { addToFavs } from \"../../lib/api\";\nimport { useContext } from \"react/cjs/react.development\";\nimport AuthContext from \"../../hooks/auth-context\";\n\nconst CarItem = props => {\n  var _authCtx$email;\n\n  const [isAddedToFavs, setIsAddedToFavs] = useState(false);\n  const {\n    sendRequest,\n    status,\n    error\n  } = useHttp(addToFavs);\n  const authCtx = useContext(AuthContext);\n  const isLoggedIn = authCtx.isLoggedIn;\n  const userName = (_authCtx$email = authCtx.email) === null || _authCtx$email === void 0 ? void 0 : _authCtx$email.replace(\"@\", \"_\").split(\".\").join(\"\");\n\n  const addToFavsHandler = e => {\n    e.preventDefault();\n    sendRequest({\n      savedData: props,\n      id: props.Model_ID,\n      category: \"vehicle\",\n      username: userName\n    });\n    setIsAddedToFavs(true);\n  };\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"centered focused\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 12\n      }\n    }, error);\n  }\n\n  const successedAdd = isAddedToFavs && status === \"completed\";\n  const pendingAdd = isAddedToFavs && status === \"pending\";\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, isLoggedIn ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-to-favs-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, !isAddedToFavs && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addToFavsHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, \"Add to favs\"), pendingAdd && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-to-favs-pending\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 26\n    }\n  }, \"Pending...\"), successedAdd && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-to-favs-added\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Successfully Added\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-to-favs-pending\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Login to add to favs\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"car-model\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, props.Model_Name), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"car-info\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"car-name\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, props.Make_Name, \" \")));\n};\n\nexport default CarItem;","map":{"version":3,"sources":["C:/Users/Win10/Documents/udemi-react/14-react-portfolio-api/src/components/Database/CarItem.js"],"names":["React","useState","styles","useHttp","addToFavs","useContext","AuthContext","CarItem","props","isAddedToFavs","setIsAddedToFavs","sendRequest","status","error","authCtx","isLoggedIn","userName","email","replace","split","join","addToFavsHandler","e","preventDefault","savedData","id","Model_ID","category","username","successedAdd","pendingAdd","Model_Name","Make_Name"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,UAAT,QAA2B,6BAA3B;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AAAA;;AACzB,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCT,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM;AAAEU,IAAAA,WAAF;AAAeC,IAAAA,MAAf;AAAuBC,IAAAA;AAAvB,MAAiCV,OAAO,CAACC,SAAD,CAA9C;AACA,QAAMU,OAAO,GAAGT,UAAU,CAACC,WAAD,CAA1B;AACA,QAAMS,UAAU,GAAGD,OAAO,CAACC,UAA3B;AACA,QAAMC,QAAQ,qBAAGF,OAAO,CAACG,KAAX,mDAAG,eAAeC,OAAf,CAAuB,GAAvB,EAA4B,GAA5B,EAAiCC,KAAjC,CAAuC,GAAvC,EAA4CC,IAA5C,CAAiD,EAAjD,CAAjB;;AAEA,QAAMC,gBAAgB,GAAIC,CAAD,IAAO;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACAZ,IAAAA,WAAW,CAAC;AACVa,MAAAA,SAAS,EAAEhB,KADD;AAEViB,MAAAA,EAAE,EAAEjB,KAAK,CAACkB,QAFA;AAGVC,MAAAA,QAAQ,EAAE,SAHA;AAIVC,MAAAA,QAAQ,EAAEZ;AAJA,KAAD,CAAX;AAMAN,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,GATD;;AAWA,MAAIG,KAAJ,EAAW;AACT,wBAAO;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmCA,KAAnC,CAAP;AACD;;AACD,QAAMgB,YAAY,GAAGpB,aAAa,IAAIG,MAAM,KAAK,WAAjD;AACA,QAAMkB,UAAU,GAAGrB,aAAa,IAAIG,MAAM,KAAK,SAA/C;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGG,UAAU,gBACT;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACN,aAAD,iBACC;AAAQ,IAAA,OAAO,EAAEY,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,EAIGS,UAAU,iBAAI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJjB,EAKGD,YAAY,iBACX;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BANJ,CADS,gBAWT;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAZJ,eAeE;AAAK,IAAA,SAAS,EAAE3B,MAAM,CAAC,WAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsCM,KAAK,CAACuB,UAA5C,CAfF,eAgBE;AAAK,IAAA,SAAS,EAAE7B,MAAM,CAAC,UAAD,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAEA,MAAM,CAAC,UAAD,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsCM,KAAK,CAACwB,SAA5C,MADF,CAhBF,CADF;AAsBD,CA9CD;;AA+CA,eAAezB,OAAf","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport styles from \"./CarItem.module.css\";\r\nimport useHttp from \"./../../hooks/use-http\";\r\nimport { addToFavs } from \"../../lib/api\";\r\nimport { useContext } from \"react/cjs/react.development\";\r\nimport AuthContext from \"../../hooks/auth-context\";\r\n\r\nconst CarItem = (props) => {\r\n  const [isAddedToFavs, setIsAddedToFavs] = useState(false);\r\n  const { sendRequest, status, error } = useHttp(addToFavs);\r\n  const authCtx = useContext(AuthContext);\r\n  const isLoggedIn = authCtx.isLoggedIn;\r\n  const userName = authCtx.email?.replace(\"@\", \"_\").split(\".\").join(\"\");\r\n\r\n  const addToFavsHandler = (e) => {\r\n    e.preventDefault();\r\n    sendRequest({\r\n      savedData: props,\r\n      id: props.Model_ID,\r\n      category: \"vehicle\",\r\n      username: userName,\r\n    });\r\n    setIsAddedToFavs(true);\r\n  };\r\n\r\n  if (error) {\r\n    return <div className=\"centered focused\">{error}</div>;\r\n  }\r\n  const successedAdd = isAddedToFavs && status === \"completed\";\r\n  const pendingAdd = isAddedToFavs && status === \"pending\";\r\n\r\n  return (\r\n    <div className=\"listItem\">\r\n      {isLoggedIn ? (\r\n        <div className=\"add-to-favs-btn\">\r\n          {!isAddedToFavs && (\r\n            <button onClick={addToFavsHandler}>Add to favs</button>\r\n          )}\r\n          {pendingAdd && <div className=\"add-to-favs-pending\">Pending...</div>}\r\n          {successedAdd && (\r\n            <div className=\"add-to-favs-added\">Successfully Added</div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"add-to-favs-pending\">Login to add to favs</div>\r\n      )}\r\n\r\n      <div className={styles[\"car-model\"]}>{props.Model_Name}</div>\r\n      <div className={styles[\"car-info\"]}>\r\n        <span className={styles[\"car-name\"]}>{props.Make_Name} </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default CarItem;\r\n"]},"metadata":{},"sourceType":"module"}