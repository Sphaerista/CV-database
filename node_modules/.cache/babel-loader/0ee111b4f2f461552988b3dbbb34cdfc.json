{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Win10\\\\Documents\\\\udemi-react\\\\14-react-portfolio-api\\\\src\\\\components\\\\Database\\\\FactoryItem.js\";\nimport React, { useState, useContext } from \"react\";\nimport styles from \"./FactoryItem.module.css\";\nimport useHttp from \"./../../hooks/use-http\";\nimport { addToFavs } from \"../../lib/api\";\nimport AuthContext from \"../../hooks/auth-context\";\n\nconst FactoryItem = props => {\n  const [isAddedToFavs, setIsAddedToFavs] = useState(false);\n  const {\n    sendRequest,\n    status,\n    error\n  } = useHttp(addToFavs);\n  const authCtx = useContext(AuthContext);\n  const userName = authCtx.email.replace(\"@\", \"_\").split(\".\").join(\"\");\n\n  const addToFavsHandler = e => {\n    e.preventDefault();\n    sendRequest({\n      savedData: props,\n      id: props.DOTCode,\n      category: \"factory\"\n    });\n    setIsAddedToFavs(true);\n  };\n\n  const HandleOpenModal = () => {\n    props.onOpenModal();\n    const specificFactory = props;\n    props.onViewFactory(specificFactory);\n  };\n\n  const successedAdd = isAddedToFavs && status === \"completed\";\n  const pendingAdd = isAddedToFavs && status === \"pending\";\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"listItem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-to-favs-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, !isAddedToFavs && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: addToFavsHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, \"Add to favs\"), pendingAdd && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-to-favs-pending\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 24\n    }\n  }, \"Pending...\"), successedAdd && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-to-favs-added\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"Successfully Added\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"factory-name\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, props.Name), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"factory-location\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"factory-country\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, props.Country, \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles[\"factory-city\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, props.City)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles[\"view-factory-btn\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: HandleOpenModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"View factory\")));\n};\n\nexport default FactoryItem;","map":{"version":3,"sources":["C:/Users/Win10/Documents/udemi-react/14-react-portfolio-api/src/components/Database/FactoryItem.js"],"names":["React","useState","useContext","styles","useHttp","addToFavs","AuthContext","FactoryItem","props","isAddedToFavs","setIsAddedToFavs","sendRequest","status","error","authCtx","userName","email","replace","split","join","addToFavsHandler","e","preventDefault","savedData","id","DOTCode","category","HandleOpenModal","onOpenModal","specificFactory","onViewFactory","successedAdd","pendingAdd","Name","Country","City"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\n\r\nimport styles from \"./FactoryItem.module.css\";\r\nimport useHttp from \"./../../hooks/use-http\";\r\nimport { addToFavs } from \"../../lib/api\";\r\nimport AuthContext from \"../../hooks/auth-context\";\r\n\r\nconst FactoryItem = (props) => {\r\n  const [isAddedToFavs, setIsAddedToFavs] = useState(false);\r\n  const { sendRequest, status, error } = useHttp(addToFavs);\r\n  const authCtx = useContext(AuthContext);\r\n  const userName = authCtx.email.replace(\"@\", \"_\").split(\".\").join(\"\");\r\n\r\n  const addToFavsHandler = (e) => {\r\n    e.preventDefault();\r\n    sendRequest({\r\n      savedData: props,\r\n      id: props.DOTCode,\r\n      category: \"factory\",\r\n    });\r\n    setIsAddedToFavs(true);\r\n  };\r\n  const HandleOpenModal = () => {\r\n    props.onOpenModal();\r\n    const specificFactory = props;\r\n    props.onViewFactory(specificFactory);\r\n  };\r\n\r\n  const successedAdd = isAddedToFavs && status === \"completed\";\r\n  const pendingAdd = isAddedToFavs && status === \"pending\";\r\n\r\n  return (\r\n    <div className=\"listItem\">\r\n      <div className=\"add-to-favs-btn\">\r\n        {!isAddedToFavs && (\r\n          <button onClick={addToFavsHandler}>Add to favs</button>\r\n        )}\r\n        {pendingAdd && <div className=\"add-to-favs-pending\">Pending...</div>}\r\n        {successedAdd && (\r\n          <div className=\"add-to-favs-added\">Successfully Added</div>\r\n        )}\r\n      </div>\r\n      <div className={styles[\"factory-name\"]}>{props.Name}</div>\r\n      <div className={styles[\"factory-location\"]}>\r\n        <span className={styles[\"factory-country\"]}>{props.Country} </span>\r\n        <span className={styles[\"factory-city\"]}>{props.City}</span>\r\n      </div>\r\n      <div className={styles[\"view-factory-btn\"]}>\r\n        <button onClick={HandleOpenModal}>View factory</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default FactoryItem;\r\n"]},"metadata":{},"sourceType":"module"}