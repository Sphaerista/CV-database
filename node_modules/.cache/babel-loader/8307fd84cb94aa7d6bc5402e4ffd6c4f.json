{"ast":null,"code":"const FIREBASE_DOMAIN = \"https://portfolio-2-a6a7c-default-rtdb.firebaseio.com\";\nexport async function fetchCarForHome() {\n  const response = await fetch(\"https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForManufacturerAndYear/988?year=2014&format=json\");\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"sth wrong\");\n  }\n\n  const fetchedData = data;\n  return fetchedData;\n}\nexport async function fetchCarListId() {\n  const response = await fetch(`https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForVehicleType/car?format=json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"sth wrong\");\n  }\n\n  return data;\n}\nexport async function fetchCarForDatabase(carForDatabase) {\n  let url;\n\n  if (carForDatabase.year === \"all\") {\n    url = `https://vpic.nhtsa.dot.gov/api/vehicles/GetModelsForMakeId/${carForDatabase.manufacturer}?format=json`;\n  } else {\n    url = `https://vpic.nhtsa.dot.gov/api/vehicles/GetModelsForMakeIdYear/makeId/${carForDatabase.manufacturer}/modelyear/${carForDatabase.year}?format=json`;\n  }\n\n  const response = await fetch(url);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"sth wrong\");\n  }\n\n  const fetchedData = data;\n  return fetchedData;\n}\nexport async function fetchFactoryForDatabase(factoryForDatabase) {\n  const response = await fetch(`https://vpic.nhtsa.dot.gov/api/vehicles/GetEquipmentPlantCodes?year=${factoryForDatabase.year}&equipmentType=${factoryForDatabase.equipmentType}&reportType=${factoryForDatabase.reportType}&format=json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"sth wrong\");\n  }\n\n  const fetchedData = data;\n  return fetchedData;\n}\nexport async function addToFavs(savedData) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/favs/${savedData.category}/${savedData.id}.json`, {\n    method: \"POST\",\n    body: JSON.stringify(savedData.savedData),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not save data\");\n  }\n\n  return null;\n}\nexport async function getDataInFavs() {\n  const response = await fetch(`${FIREBASE_DOMAIN}/favs.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not fetch favs\");\n  }\n\n  return data;\n}\nexport async function removeDataFromFavs(idFav) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/favs/${idFav}.json`, {\n    method: \"DELETE\",\n    body: JSON.stringify(),\n    headers: {\n      \"Content-type\": \"application/json\"\n    }\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || \"Could not delete fav.\");\n  }\n\n  return null;\n}","map":{"version":3,"sources":["C:/Users/Win10/Documents/udemi-react/14-react-portfolio-api/src/lib/api.js"],"names":["FIREBASE_DOMAIN","fetchCarForHome","response","fetch","data","json","ok","Error","message","fetchedData","fetchCarListId","fetchCarForDatabase","carForDatabase","url","year","manufacturer","fetchFactoryForDatabase","factoryForDatabase","equipmentType","reportType","addToFavs","savedData","category","id","method","body","JSON","stringify","headers","getDataInFavs","removeDataFromFavs","idFav"],"mappings":"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","sourcesContent":["const FIREBASE_DOMAIN = \"https://portfolio-2-a6a7c-default-rtdb.firebaseio.com\";\r\n\r\nexport async function fetchCarForHome() {\r\n  const response = await fetch(\r\n    \"https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForManufacturerAndYear/988?year=2014&format=json\"\r\n  );\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"sth wrong\");\r\n  }\r\n\r\n  const fetchedData = data;\r\n  return fetchedData;\r\n}\r\n\r\nexport async function fetchCarListId() {\r\n  const response = await fetch(\r\n    `https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForVehicleType/car?format=json`\r\n  );\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"sth wrong\");\r\n  }\r\n  return data;\r\n}\r\n\r\nexport async function fetchCarForDatabase(carForDatabase) {\r\n  let url;\r\n  if (carForDatabase.year === \"all\") {\r\n    url = `https://vpic.nhtsa.dot.gov/api/vehicles/GetModelsForMakeId/${carForDatabase.manufacturer}?format=json`;\r\n  } else {\r\n    url = `https://vpic.nhtsa.dot.gov/api/vehicles/GetModelsForMakeIdYear/makeId/${carForDatabase.manufacturer}/modelyear/${carForDatabase.year}?format=json`;\r\n  }\r\n  const response = await fetch(url);\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"sth wrong\");\r\n  }\r\n\r\n  const fetchedData = data;\r\n  return fetchedData;\r\n}\r\n\r\nexport async function fetchFactoryForDatabase(factoryForDatabase) {\r\n  const response = await fetch(\r\n    `https://vpic.nhtsa.dot.gov/api/vehicles/GetEquipmentPlantCodes?year=${factoryForDatabase.year}&equipmentType=${factoryForDatabase.equipmentType}&reportType=${factoryForDatabase.reportType}&format=json`\r\n  );\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"sth wrong\");\r\n  }\r\n\r\n  const fetchedData = data;\r\n  return fetchedData;\r\n}\r\n\r\nexport async function addToFavs(savedData) {\r\n  const response = await fetch(\r\n    `${FIREBASE_DOMAIN}/favs/${savedData.category}/${savedData.id}.json`,\r\n    {\r\n      method: \"POST\",\r\n      body: JSON.stringify(savedData.savedData),\r\n      headers: { \"Content-type\": \"application/json\" },\r\n    }\r\n  );\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not save data\");\r\n  }\r\n  return null;\r\n}\r\n\r\nexport async function getDataInFavs() {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/favs.json`);\r\n  const data = await response.json();\r\n\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not fetch favs\");\r\n  }\r\n  return data;\r\n}\r\n\r\nexport async function removeDataFromFavs(idFav) {\r\n  const response = await fetch(`${FIREBASE_DOMAIN}/favs/${idFav}.json`, {\r\n    method: \"DELETE\",\r\n    body: JSON.stringify(),\r\n    headers: { \"Content-type\": \"application/json\" },\r\n  });\r\n  const data = await response.json();\r\n  if (!response.ok) {\r\n    throw new Error(data.message || \"Could not delete fav.\");\r\n  }\r\n  return null;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}